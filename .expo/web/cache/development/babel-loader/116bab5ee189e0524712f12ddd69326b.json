{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\justi\\\\Desktop\\\\THEJOURNEY\\\\WebDevelopment\\\\BruinDiningPlus\\\\components\\\\MenuItem.js\";\nimport * as React from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { AirbnbRating } from 'react-native-ratings';\nimport { getDatabase, fromMenuItemToDBKey } from \"../model/data\";\nvar styles = StyleSheet.create({\n  imageContainer: {\n    alignItems: 'center',\n    justifyContent: \"center\"\n  },\n  image: {\n    height: 300,\n    width: 350\n  },\n  name: {\n    paddingLeft: 22\n  },\n  text: {\n    textAlign: \"left\",\n    fontSize: 16,\n    fontWeight: \"bold\"\n  }\n});\n\nvar MenuItem = function (_React$Component) {\n  _inherits(MenuItem, _React$Component);\n\n  function MenuItem(_props) {\n    var _this;\n\n    _classCallCheck(this, MenuItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuItem).call(this, _props));\n\n    _this.onFinishRating = function (x) {\n      if (_this.state.rating === 0) {\n        _this.props.item.numRatings++;\n        _this.props.item.rating = ((_this.props.item.numRatings - 1) * _this.props.item.rating + x) / _this.props.item.numRatings;\n\n        _this.setState({\n          rating: x,\n          rated: true\n        });\n      } else if (_this.state.rating === x && _this.state.rated) {\n        if (_this.props.item.numRatings !== 1) {\n          _this.props.item.rating = (_this.props.item.numRatings * _this.props.item.rating - x) / (_this.props.item.numRatings - 1);\n        } else {\n          _this.props.item.rating = 0;\n        }\n\n        _this.props.item.numRatings--;\n        x = 0;\n\n        _this.setState({\n          rating: 0,\n          rated: false\n        });\n      } else {\n        _this.props.item.numRatings++;\n        _this.props.item.rating = (_this.props.item.numRatings * _this.props.item.rating - _this.state.rating + x) / _this.props.item.numRatings;\n\n        _this.setState({\n          rating: x,\n          rated: true\n        });\n      }\n\n      getDatabase().ref(\"menus/\" + fromMenuItemToDBKey(_this.props.item)).set(_this.props.item);\n    };\n\n    _this.render = function () {\n      var props = _this.props;\n      return React.createElement(View, {\n        style: {\n          marginBottom: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        }\n      }, React.createElement(View, {\n        style: styles.imageContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: props.img\n        },\n        style: styles.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        }\n      })), React.createElement(View, {\n        style: styles.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        }\n      }, props.item.name)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        }\n      }, React.createElement(AirbnbRating, {\n        size: 25,\n        showRating: false,\n        defaultRating: _this.state.rating,\n        onFinishRating: _this.onFinishRating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        }\n      })));\n    };\n\n    _this.state = {\n      rating: _props.item.rating,\n      rated: false\n    };\n    return _this;\n  }\n\n  return MenuItem;\n}(React.Component);\n\nexport { MenuItem as default };","map":{"version":3,"sources":["C:/Users/justi/Desktop/THEJOURNEY/WebDevelopment/BruinDiningPlus/components/MenuItem.js"],"names":["React","AirbnbRating","getDatabase","fromMenuItemToDBKey","styles","StyleSheet","create","imageContainer","alignItems","justifyContent","image","height","width","name","paddingLeft","text","textAlign","fontSize","fontWeight","MenuItem","props","onFinishRating","x","state","rating","item","numRatings","setState","rated","ref","set","render","marginBottom","uri","img","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Image, StyleSheet, Text, View } from 'react-native';\nimport { AirbnbRating } from 'react-native-ratings';\nimport { getDatabase, fromMenuItemToDBKey } from '../model/data';\n\nconst styles = StyleSheet.create({\n    imageContainer: {\n        alignItems: 'center',\n        justifyContent: \"center\"\n    },\n\n    image: {\n        height: 300,\n        width: 350,\n    },\n\n    name: {\n        paddingLeft: 22\n    },\n\n    text: {\n        textAlign: \"left\",\n        fontSize: 16,\n        fontWeight:\"bold\"\n    }\n});\n\nexport default class MenuItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { rating: props.item.rating, rated: false };\n    }\n\n    onFinishRating = (x) => {\n        if (this.state.rating === 0) {\n            this.props.item.numRatings++;\n            this.props.item.rating = ((this.props.item.numRatings - 1) * this.props.item.rating + x) / this.props.item.numRatings;\n            this.setState({ rating: x, rated: true });\n        } else if (this.state.rating === x && this.state.rated) {\n            if (this.props.item.numRatings !== 1) {\n                this.props.item.rating = (this.props.item.numRatings * this.props.item.rating - x) / (this.props.item.numRatings - 1);\n            } else {\n                this.props.item.rating = 0;\n            }\n            this.props.item.numRatings--;\n            x = 0;\n            this.setState({ rating: 0, rated: false });\n        } else {\n            this.props.item.numRatings++;\n            this.props.item.rating = (this.props.item.numRatings * this.props.item.rating - this.state.rating + x) / this.props.item.numRatings;\n            this.setState({ rating: x, rated: true });\n        }\n        getDatabase().ref(`menus/${fromMenuItemToDBKey(this.props.item)}`).set(this.props.item);\n    }\n\n    render = () => {\n        const props = this.props;\n        return (\n            <View style={{ marginBottom: 50 }}>\n                <View style={styles.imageContainer}>\n                    <Image source={{ uri: props.img }} style={styles.image}></Image>\n                </View>\n                <View style={styles.name}>\n                    <Text style={styles.text}>{props.item.name}</Text>\n                </View>\n                <View>\n                    <AirbnbRating size={25} showRating={false} defaultRating={this.state.rating}\n                        onFinishRating={this.onFinishRating} />\n                </View>\n            </View >\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}